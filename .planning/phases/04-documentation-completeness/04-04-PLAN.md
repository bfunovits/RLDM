---
phase: 04-documentation-completeness
plan: 04
type: execute
wave: 4
depends_on: ["04-03"]
files_modified: [".planning/ROADMAP.md"]
autonomous: false  # Has checkpoint

must_haves:
  truths:
    - "Package passes devtools::check() with no documentation-related warnings or errors"
    - "User can access documentation for any exported function via ?function_name"
    - "Examples run without errors and demonstrate basic functionality"
  artifacts:
    - path: ".planning/phases/04-documentation-completeness/04-04-SUMMARY.md"
      provides: "Final verification report and phase completion status"
    - path: ".planning/ROADMAP.md"
      provides: "Updated roadmap with Phase 4 marked complete"
  key_links:
    - from: "devtools::check() output"
      to: "documentation completeness"
      via: "zero documentation warnings"
      pattern: "warning.*documentation|warning.*examples"
    - from: "?RLDM"
      to: "comprehensive package overview"
      via: "help page rendering"
      pattern: "RLDM.*package"
---

<objective>
Perform final verification of documentation completeness and update roadmap.

Purpose: Ensure Phase 4 success criteria are met (100% Roxygen coverage with working examples, package-level documentation accurate) and mark phase complete.
Output: Verification report, updated roadmap, and confirmation that documentation is complete.
</objective>

<execution_context>
@/home/bernd/.claude/get-shit-done/workflows/execute-plan.md
@/home/bernd/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-documentation-completeness/04-RESEARCH.md
@.planning/phases/04-documentation-completeness/04-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Run comprehensive documentation verification</name>
  <files>.planning/phases/04-documentation-completeness/04-04-SUMMARY.md</files>
  <action>
1. Clean build artifacts to ensure fresh check:
   ```bash
   rm -f src/*.o src/*.so src/*.dll
   ```

2. Run full devtools::check() focusing on documentation:
   ```r
   check_result <- devtools::check(document = TRUE, vignettes = FALSE)
   ```

3. Capture results:
   - Number of errors, warnings, notes
   - Documentation-specific warnings (missing docs, missing examples, etc.)
   - Example-specific warnings (failed examples)

4. Run devtools::run_examples() to verify examples work:
   ```r
   example_result <- devtools::run_examples(run = TRUE)
   ```

5. Generate verification report in 04-04-SUMMARY.md:
   - Check results summary
   - Documentation coverage status (should be 100%)
   - Example coverage status (should be 100%)
   - Any remaining issues (if any) and recommendations
   - Confirmation that Phase 4 success criteria are met

6. If any documentation warnings remain, fix them (should be minimal after previous plans).
  </action>
  <verify>devtools::check() passes with 0 errors, 0 warnings related to documentation; examples run without errors</verify>
  <done>Verification report shows 100% documentation and example coverage with no documentation warnings</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Human verification of documentation</name>
  <what-built>Complete documentation system with 100% Roxygen coverage and working examples</what-built>
  <how-to-verify>
1. Load the package in development mode:
   ```r
   devtools::load_all()
   ```

2. Test package-level documentation:
   ```r
   ?RLDM
   ```
   Verify that help page shows comprehensive overview with sections:
   - Description and details
   - Package Organization (numeric prefix system explained)
   - Getting Started (links to vignettes)
   - Author and citation information

3. Test random function documentation:
   Pick 3-5 exported functions from different categories (e.g., `armamod`, `autocov`, `est_ar`, `sim`, `plot`):
   ```r
   ?armamod
   ?autocov
   ?est_ar
   ?sim
   ?plot.armamod
   ```
   Verify each help page shows:
   - Complete parameter descriptions
   - Return value description
   - Examples section with code

4. Run examples for a few functions to ensure they work:
   ```r
   set.seed(123)
   example(armamod)
   example(autocov)
   ```

5. Confirm documentation is accessible and examples execute without errors.
  </how-to-verify>
  <resume-signal>Type "verified" when documentation is confirmed working, or describe any issues found</resume-signal>
</task>

<task type="auto">
  <name>Task 3: Update roadmap and finalize phase</name>
  <files>.planning/ROADMAP.md</files>
  <action>
1. Read current ROADMAP.md.

2. Update Phase 4 section:
   - Change status from "[ ]" to "[x]" (completed)
   - Add completion date: "✓ 2026-01-29" (or current date)
   - Update Plans list with actual plan checkboxes:
     ```
     Plans:
     - [x] 04-01-PLAN.md — Assessment and package-level documentation
     - [x] 04-02-PLAN.md — Fix missing documentation
     - [x] 04-03-PLAN.md — Examples completeness
     - [x] 04-04-PLAN.md — Verification and final check
     ```
   - Update "Plans: TBD" to "Plans: 4 plans"

3. Update Progress table:
   - Set Phase 4 "Plans Complete" to 4/4
   - Set Status to "Complete"
   - Add completion date

4. Update Requirements traceability (if exists) to mark DOCS-01, DOCS-02, DOCS-03 as complete.

5. Write updated ROADMAP.md.

6. Create final phase summary in 04-04-SUMMARY.md including:
   - Phase completion status
   - Requirements satisfied (DOCS-01, DOCS-02, DOCS-03)
   - Next steps (Phase 5: Website Deployment)
  </action>
  <verify>ROADMAP.md updated with Phase 4 marked complete; phase summary includes requirements satisfied</verify>
  <done>Phase 4 marked complete in roadmap; documentation requirements satisfied</done>
</task>

</tasks>

<verification>
- Phase 4 section in ROADMAP.md shows completed status
- 04-04-SUMMARY.md contains verification report confirming 100% documentation coverage
- Human verification checkpoint passed
</verification>

<success_criteria>
1. Phase 4 success criteria met:
   - All exported functions have Roxygen documentation ✓
   - All exported functions have working examples ✓
   - Package-level documentation (?RLDM) exists and is accurate ✓
2. ROADMAP.md updated with Phase 4 complete
3. Ready for Phase 5: Website Deployment
</success_criteria>

<output>
After completion, create `.planning/phases/04-documentation-completeness/04-04-SUMMARY.md` with final verification report and roadmap updated.
</output>
