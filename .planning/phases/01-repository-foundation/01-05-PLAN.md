---
phase: 01-repository-foundation
plan: 05
type: execute
wave: 5
depends_on: [01-04]
files_modified: ["CONTRIBUTING.md", "_pkgdown.yml", "RLDM.Rproj", "RLDM.code-workspace", ".Rhistory"]
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Root directory contains only essential files per REPO-02 requirement"
    - "Non-essential files moved to appropriate locations or removed"
    - "Repository structure is clean and organized"
    - "All development artifacts properly excluded from version control"
  artifacts:
    - path: "/media/bernd/nvme/r_projects/acad_RLDM/"
      provides: "Clean root directory with only essential package files"
      contains: "DESCRIPTION, NAMESPACE, README.md, LICENSE.md, CLAUDE.md, .gitignore, .Rbuildignore"
      excludes: "CONTRIBUTING.md, _pkgdown.yml, .Rhistory, RLDM.code-workspace, RLDM.Rproj, .claude/, .serena/, .Rproj.user/"
    - path: "/media/bernd/nvme/r_projects/acad_RLDM/docs/CONTRIBUTING.md"
      provides: "Contributing guidelines in standard location"
      optional: true
    - path: "/media/bernd/nvme/r_projects/acad_RLDM/inst/_pkgdown.yml"
      provides: "pkgdown configuration in standard location"
      optional: true
    - path: "/media/bernd/nvme/r_projects/acad_RLDM/docs/_pkgdown.yml"
      provides: "pkgdown configuration in alternative standard location"
      optional: true
  key_links:
    - from: "root directory"
      to: "REPO-02 requirement"
      via: "file presence/absence"
      pattern: "Only essential files: DESCRIPTION, NAMESPACE, README.md, LICENSE.md, CLAUDE.md, .gitignore, .Rbuildignore"
    - from: ".gitignore"
      to: "development artifacts"
      via: "exclusion patterns"
      pattern: "\.claude/\|\.serena/\|\.Rhistory\|\.Rproj\.user"
    - from: "moved files"
      to: "functionality preservation"
      via: "location updates"
      pattern: "CONTRIBUTING.md and _pkgdown.yml in appropriate locations"
---

<objective>
Complete root directory cleanup by implementing decisions from Plan 01-04 and removing all non-essential files.

Purpose: Finalize Phase 1 by achieving a clean root directory with only essential package files, meeting the REPO-02 requirement and completing the repository foundation goal.

Output: Clean root directory with CONTRIBUTING.md, _pkgdown.yml, .Rhistory, RLDM.code-workspace, and RLDM.Rproj either moved to appropriate locations or removed; all development directories properly ignored; repository structure verified as clean and organized.
</objective>

<execution_context>
@/home/bernd/.claude/get-shit-done/workflows/execute-plan.md
@/home/bernd/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-repository-foundation/01-repository-foundation-VERIFICATION.md
@.planning/phases/01-repository-foundation/01-04-SUMMARY.md

# Decisions from Plan 01-04 will determine:
# - CONTRIBUTING.md location (docs/ or removed)
# - _pkgdown.yml location (inst/ or docs/)
# - RLDM.Rproj action (keep in root or remove)

# Files to address:
# - CONTRIBUTING.md: Move to docs/ or remove
# - _pkgdown.yml: Move to inst/ or docs/
# - .Rhistory: Remove (already in .gitignore, should not be tracked)
# - RLDM.code-workspace: Remove (IDE file, should not be tracked)
# - RLDM.Rproj: Keep or remove based on decision
# - .claude/: Already in .gitignore from Plan 01-04
# - .serena/: Already in .gitignore
# - .Rproj.user/: Already in .gitignore
</context>

<tasks>

<task type="auto">
  <name>Task 1: Implement file location decisions</name>
  <files>/media/bernd/nvme/r_projects/acad_RLDM/CONTRIBUTING.md /media/bernd/nvme/r_projects/acad_RLDM/_pkgdown.yml /media/bernd/nvme/r_projects/acad_RLDM/RLDM.Rproj</files>
  <action>
    Implement the decisions made in Plan 01-04 for file locations:

    1. **CONTRIBUTING.md** (based on decision):
       - If decision is "move to docs/": `mv CONTRIBUTING.md docs/`
       - If decision is "remove": `rm CONTRIBUTING.md`
       - If decision is "keep in root": Leave file in place

    2. **_pkgdown.yml** (based on decision):
       - If decision is "move to inst/": `mv _pkgdown.yml inst/`
       - If decision is "move to docs/": `mv _pkgdown.yml docs/`
       - If decision is "keep in root": Leave file in place

    3. **RLDM.Rproj** (based on decision):
       - If decision is "keep": Leave file in place
       - If decision is "remove": `rm RLDM.Rproj`

    Note: Check 01-04-SUMMARY.md for the specific decisions made. If no decision was recorded, use these defaults (following R package best practices):
    - CONTRIBUTING.md → docs/ (standard location for documentation files)
    - _pkgdown.yml → inst/ (standard location for pkgdown configuration in R packages)
    - RLDM.Rproj → keep (useful for RStudio users, common in R packages)

    After moving files, verify they exist in their new locations.
  </action>
  <verify>
    1. Check new locations based on decisions:
       - `ls -la docs/CONTRIBUTING.md` (if moved to docs/)
       - `ls -la inst/_pkgdown.yml` (if moved to inst/)
       - `ls -la docs/_pkgdown.yml` (if moved to docs/)
    2. Verify files are no longer in root (if moved/removed):
       - `ls -la CONTRIBUTING.md` (should not exist if moved/removed)
       - `ls -la _pkgdown.yml` (should not exist if moved/removed)
       - `ls -la RLDM.Rproj` (should exist only if kept)
    3. Check git status to see file movements
  </verify>
  <done>
    - CONTRIBUTING.md in appropriate location per decision
    - _pkgdown.yml in appropriate location per decision
    - RLDM.Rproj handled per decision
    - Git status shows file movements/removals
  </done>
</task>

<task type="auto">
  <name>Task 2: Remove development artifacts from root</name>
  <files>/media/bernd/nvme/r_projects/acad_RLDM/.Rhistory /media/bernd/nvme/r_projects/acad_RLDM/RLDM.code-workspace</files>
  <action>
    Remove development artifacts that should not be in the root directory:

    1. **.Rhistory**: Remove the file (it's already in .gitignore, should not be tracked)
       - `rm .Rhistory`

    2. **RLDM.code-workspace**: Remove the IDE workspace file (should not be tracked)
       - `rm RLDM.code-workspace`

    3. **Verify .gitignore patterns**: Ensure these file types are in .gitignore:
       - Check .Rhistory is in .gitignore (line 8)
       - Check if *.code-workspace pattern exists in .gitignore
       - If not, consider adding pattern but not required for single file removal

    These files are development artifacts and should not be in version control. Their removal cleans up the root directory.
  </action>
  <verify>
    1. Verify files are removed:
       - `ls -la .Rhistory` (should show "No such file or directory")
       - `ls -la RLDM.code-workspace` (should show "No such file or directory")
    2. Check git status to confirm files are removed from tracking
    3. Verify .gitignore contains .Rhistory pattern: `grep -n "\.Rhistory" .gitignore`
  </verify>
  <done>
    - .Rhistory removed from root directory
    - RLDM.code-workspace removed from root directory
    - Git status shows clean removal
    - .gitignore properly excludes .Rhistory files
  </done>
</task>

<task type="auto">
  <name>Task 3: Final verification and cleanup</name>
  <files>/media/bernd/nvme/r_projects/acad_RLDM/</files>
  <action>
    Perform final verification of root directory cleanup:

    1. **List root directory contents**: `ls -la` and verify only essential files remain:
       - Essential: DESCRIPTION, NAMESPACE, README.md, LICENSE.md, CLAUDE.md, .gitignore, .Rbuildignore
       - Optional: RLDM.Rproj (if kept per decision), compile_pf.R, simple_test.R (package utilities)
       - Should NOT be present: CONTRIBUTING.md, _pkgdown.yml, .Rhistory, RLDM.code-workspace, .claude/, .serena/, .Rproj.user/

    2. **Check git status**: Ensure working tree is clean
       - Run `git status` and verify no unexpected changes
       - Development directories (.claude/, .serena/, .Rproj.user/) should be ignored

    3. **Verify .gitignore completeness**:
       - `.claude/` pattern present (added in Plan 01-04)
       - `.serena/` pattern present (line 32)
       - `.Rproj.user` pattern present (line 7)
       - `.Rhistory` pattern present (line 8)

    4. **Check moved files functionality** (if moved):
       - If CONTRIBUTING.md moved to docs/: verify file content intact
       - If _pkgdown.yml moved: verify YAML syntax still valid

    5. **Update ROADMAP.md progress**: Update Phase 1 progress to show gap closure plans completed
  </action>
  <verify>
    1. Root directory listing shows only essential files
    2. Git status shows clean working tree
    3. .gitignore contains all required patterns
    4. Moved files exist in their new locations with content intact
    5. ROADMAP.md updated to reflect gap closure completion
  </verify>
  <done>
    - Root directory clean with only essential files
    - All development artifacts properly handled (moved/removed/ignored)
    - Git working tree clean
    - .gitignore comprehensive for all development artifacts
    - Phase 1 gap closure complete
  </done>
</task>

</tasks>

<verification>
After this plan completes, Phase 1 should fully achieve its goal:
1. Root directory contains only essential files (REPO-02 satisfied)
2. All non-essential files moved to appropriate locations or removed
3. Repository structure is clean and organized
4. .gitignore properly excludes all development artifacts
5. Git working tree is clean
</verification>

<success_criteria>
- Root directory clean per essential files list
- CONTRIBUTING.md and _pkgdown.yml in appropriate locations (or removed)
- .Rhistory and RLDM.code-workspace removed
- .gitignore excludes .claude/, .serena/, .Rproj.user/, .Rhistory
- Git status shows clean working tree
- Phase 1 verification gaps addressed
</success_criteria>

<output>
After completion, create `.planning/phases/01-repository-foundation/01-05-SUMMARY.md`
</output>