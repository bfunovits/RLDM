---
phase: 01-repository-foundation
plan: 04
type: execute
wave: 4
depends_on: [01-03]
files_modified: [".gitignore", "CONTRIBUTING.md", "_pkgdown.yml", "RLDM.Rproj"]
autonomous: false
gap_closure: true

must_haves:
  truths:
    - "Human decisions made on file locations and retention"
    - "Initial cleanup of obvious development artifacts completed"
    - ".gitignore updated to exclude all development tool directories"
  artifacts:
    - path: "/media/bernd/nvme/r_projects/acad_RLDM/.gitignore"
      provides: "Comprehensive git ignore patterns for all development artifacts"
      contains: ".claude/, .serena/, .Rhistory patterns"
    - path: "/media/bernd/nvme/r_projects/acad_RLDM/CONTRIBUTING.md"
      provides: "Contributing guidelines in appropriate location"
      location: "docs/ directory or removed"
    - path: "/media/bernd/nvme/r_projects/acad_RLDM/_pkgdown.yml"
      provides: "pkgdown configuration in standard location"
      location: "inst/ or docs/ directory"
  key_links:
    - from: ".gitignore"
      to: "development directories"
      via: "exclusion patterns"
      pattern: "\.claude/\|\.serena/\|\.Rhistory"
    - from: "CONTRIBUTING.md"
      to: "package documentation structure"
      via: "standard location"
      pattern: "docs/CONTRIBUTING.md or removed"
    - from: "_pkgdown.yml"
      to: "pkgdown build process"
      via: "standard configuration location"
      pattern: "inst/_pkgdown.yml or docs/_pkgdown.yml"
---

<objective>
Make human decisions on file locations and complete initial cleanup of development artifacts.

Purpose: Address the human verification items identified in the verification report and begin cleaning up root directory non-essential files. This plan handles the decisions that require human judgment before automated cleanup can proceed.

Output: Decisions made on CONTRIBUTING.md, _pkgdown.yml, and RLDM.Rproj locations; .gitignore updated to exclude .claude/ and .serena/ directories; .Rhistory properly ignored.
</objective>

<execution_context>
@/home/bernd/.claude/get-shit-done/workflows/execute-plan.md
@/home/bernd/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-repository-foundation/01-repository-foundation-VERIFICATION.md
@.planning/phases/01-repository-foundation/01-03-SUMMARY.md

# Current root directory issues from verification:
# - CONTRIBUTING.md in root (should be in docs/ or removed)
# - _pkgdown.yml in root (should be in inst/ or docs/)
# - .Rhistory in root (development artifact, should be ignored)
# - RLDM.code-workspace in root (IDE file)
# - RLDM.Rproj in root (RStudio project file - questionable)
# - .claude/ directory (development tool, not in .gitignore)
# - .serena/ directory (development tool, already in .gitignore)
# - .Rproj.user/ directory (RStudio user data, already in .gitignore)
</context>

<tasks>

<task type="checkpoint:decision" gate="blocking">
  <name>Task 1: Make decisions on file locations</name>
  <decision>Determine appropriate locations for CONTRIBUTING.md, _pkgdown.yml, and RLDM.Rproj</decision>
  <context>These files are currently in the root directory but may not belong there according to R package conventions. The verification report identified these as requiring human decisions before cleanup.</context>
  <options>
    <option id="option-a">
      <name>Standard R package organization</name>
      <pros>
        - Follows established R package conventions
        - Clean root directory with only essential files
        - Consistent with other R packages
        - Meets REPO-02 requirement fully
      </pros>
      <cons>
        - May require updating documentation references
        - pkgdown may need configuration update
      </cons>
    </option>
    <option id="option-b">
      <name>Keep some files in root for convenience</name>
      <pros>
        - Easier for contributors to find CONTRIBUTING.md
        - RStudio users have project file readily available
        - Less configuration changes needed
      </pros>
      <cons>
        - Root directory remains cluttered
        - Violates REPO-02 requirement
        - Inconsistent with R package best practices
      </cons>
    </option>
  </options>
  <resume-signal>Select: option-a (standard organization) or option-b (keep some in root). If option-a, specify: 1) CONTRIBUTING.md location (docs/ or remove), 2) _pkgdown.yml location (inst/ or docs/), 3) RLDM.Rproj (keep or remove). If option-b, specify which files to keep in root.</resume-signal>
</task>

<task type="auto">
  <name>Task 2: Update .gitignore for development directories</name>
  <files>/media/bernd/nvme/r_projects/acad_RLDM/.gitignore</files>
  <action>
    Update .gitignore to ensure all development tool directories are properly excluded:

    1. Check if .claude/ is already in .gitignore (it's not currently)
    2. Add ".claude/" to .gitignore in the appropriate section (IDE and OS files section)
    3. Verify .serena/ is already in .gitignore (line 32)
    4. Verify .Rproj.user is already in .gitignore (line 7)
    5. Verify .Rhistory is already in .gitignore (line 8)

    The .gitignore should have these patterns:
    - .claude/ (add if missing)
    - .serena/ (already present)
    - .Rproj.user (already present)
    - .Rhistory (already present)

    Place .claude/ in the "IDE and OS files" section after .serena/ for consistency.

    Also ensure RLDM.code-workspace is ignored (check if pattern covers it).
  </action>
  <verify>
    1. Run: `grep -n "\.claude/" /media/bernd/nvme/r_projects/acad_RLDM/.gitignore`
    2. Run: `grep -n "\.serena/" /media/bernd/nvme/r_projects/acad_RLDM/.gitignore`
    3. Run: `grep -n "\.Rproj\.user" /media/bernd/nvme/r_projects/acad_RLDM/.gitignore`
    4. Run: `grep -n "\.Rhistory" /media/bernd/nvme/r_projects/acad_RLDM/.gitignore`
    5. Check git status to ensure .claude/ directory is ignored
  </verify>
  <done>
    - .claude/ added to .gitignore
    - All development directories (.claude/, .serena/, .Rproj.user/) properly excluded
    - .Rhistory properly ignored
    - git status shows clean working tree for these directories
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 3: Verify initial cleanup and decisions</name>
  <what-built>Updated .gitignore with development directory exclusions and received decisions on file locations</what-built>
  <how-to-verify>
    1. Check .gitignore contains ".claude/" pattern
    2. Verify git status shows .claude/ directory is ignored
    3. Review the decisions made in Task 1 for CONTRIBUTING.md, _pkgdown.yml, and RLDM.Rproj
    4. Confirm these decisions align with R package best practices and project requirements
  </how-to-verify>
  <resume-signal>Type "verified" to confirm .gitignore updates are correct and decisions are ready for implementation</resume-signal>
</task>

</tasks>

<verification>
After this plan completes:
1. .gitignore should exclude all development tool directories (.claude/, .serena/, .Rproj.user/)
2. Decisions should be made on CONTRIBUTING.md, _pkgdown.yml, and RLDM.Rproj locations
3. Git working tree should be clean for development directories
</verification>

<success_criteria>
- Human decisions recorded for file locations
- .gitignore updated with .claude/ exclusion
- Verification checkpoint passed
- Ready for Plan 01-05 to implement decisions and complete cleanup
</success_criteria>

<output>
After completion, create `.planning/phases/01-repository-foundation/01-04-SUMMARY.md`
</output>