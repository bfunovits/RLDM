---
phase: 01-repository-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - /media/bernd/nvme/r_projects/acad_RLDM/.gitignore
  - /media/bernd/nvme/r_projects/acad_RLDM/.Rbuildignore
  - /media/bernd/nvme/r_projects/acad_RLDM/LICENSE.md
autonomous: true

must_haves:
  truths:
    - "Proper .gitignore for R package development is established"
    - "LICENSE.md file exists in root directory"
  artifacts:
    - path: "/media/bernd/nvme/r_projects/acad_RLDM/.gitignore"
      provides: "Comprehensive git ignore patterns for R/C++ package"
      min_lines: 30
      contains: ["logs/", "*.tar.gz", "*.Rcheck/", "src/*.o"]
    - path: "/media/bernd/nvme/r_projects/acad_RLDM/.Rbuildignore"
      provides: "Build exclusions for non-package files"
      min_lines: 10
      contains: ["^logs$", "^figure$", "^data-raw$"]
    - path: "/media/bernd/nvme/r_projects/acad_RLDM/LICENSE.md"
      provides: "Explicit GPL-3 license file"
      min_lines: 5
      contains: ["GPL-3", "License", "Copyright"]
  key_links:
    - from: ".gitignore"
      to: "directory structure"
      via: "exclusion of logs/, figure/, data-raw/"
      pattern: "logs/\nfigure/\ndata-raw/"
    - from: ".Rbuildignore"
      to: "build process"
      via: "exclusion of development directories from package build"
      pattern: "^\^logs\$\$|^\^figure\$\$|^\^data-raw\$\$"
---

<objective>
Create foundational directory structure and configuration files for clean R package repository.

Purpose: Establish proper R package structure with comprehensive git/build ignore patterns and explicit license file.
Output: Directories (logs/, inst/benchmarks/), updated .gitignore/.Rbuildignore, LICENSE.md file.
</objective>

<execution_context>
@/home/bernd/.claude/get-shit-done/workflows/execute-plan.md
@/home/bernd/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-repository-foundation/01-RESEARCH.md

# Current repository analysis from research
- Root directory has many development files that need moving
- .gitignore is minimal (14 lines) and needs expansion
- .Rbuildignore exists but may need updates
- No explicit LICENSE.md file (only in DESCRIPTION)
- inst/ directory exists with examples/, extdata/, include/
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create directory structure</name>
  <files>
    /media/bernd/nvme/r_projects/acad_RLDM/logs/
    /media/bernd/nvme/r_projects/acad_RLDM/logs/claude/
    /media/bernd/nvme/r_projects/acad_RLDM/logs/smc/
    /media/bernd/nvme/r_projects/acad_RLDM/logs/debug/
    /media/bernd/nvme/r_projects/acad_RLDM/logs/test_scripts/
    /media/bernd/nvme/r_projects/acad_RLDM/inst/benchmarks/
  </files>
  <action>
    Create the directory structure for organizing development artifacts:

    1. Create logs/ directory with subdirectories:
       - claude/ for Claude session logs
       - smc/ for SMC development logs
       - debug/ for debugging scripts
       - test_scripts/ for development test scripts (not testthat tests)

    2. Create inst/benchmarks/ directory for benchmark scripts

    Use mkdir -p to create parent directories as needed. Verify each directory exists after creation.

    Note: inst/ directory already exists with examples/, extdata/, include/ subdirectories. Add benchmarks/ to it.
  </action>
  <verify>
    Run: ls -la /media/bernd/nvme/r_projects/acad_RLDM/logs/
    Run: ls -la /media/bernd/nvme/r_projects/acad_RLDM/logs/claude/
    Run: ls -la /media/bernd/nvme/r_projects/acad_RLDM/logs/smc/
    Run: ls -la /media/bernd/nvme/r_projects/acad_RLDM/logs/debug/
    Run: ls -la /media/bernd/nvme/r_projects/acad_RLDM/logs/test_scripts/
    Run: ls -la /media/bernd/nvme/r_projects/acad_RLDM/inst/benchmarks/
  </verify>
  <done>
    All directories exist and are empty (ready for file moves in next plan).
  </done>
</task>

<task type="auto">
  <name>Task 2: Create LICENSE.md file</name>
  <files>/media/bernd/nvme/r_projects/acad_RLDM/LICENSE.md</files>
  <action>
    Create a proper LICENSE.md file since CRAN requires explicit license file (not just DESCRIPTION entry).

    Based on research recommendations and DESCRIPTION file (License: GPL-3):

    1. Create LICENSE.md with GPL-3 license text
    2. Include copyright notice from DESCRIPTION authors
    3. Reference official GPL-3 website

    Content template:
    ```
    ## License

    This package is licensed under the GPL-3 license.
    See https://www.gnu.org/licenses/gpl-3.0.html for details.

    Copyright (c) 2026 Wolfgang Scherrer, Bernd Funovits
    ```

    Use proper markdown formatting. The file should be in root directory.
  </action>
  <verify>
    Run: cat /media/bernd/nvme/r_projects/acad_RLDM/LICENSE.md
    Check: File exists, contains "GPL-3", "License", "Copyright" keywords
  </verify>
  <done>
    LICENSE.md file exists in root with GPL-3 license and copyright notice.
  </done>
</task>

<task type="auto">
  <name>Task 3: Update .gitignore with comprehensive patterns</name>
  <files>/media/bernd/nvme/r_projects/acad_RLDM/.gitignore</files>
  <action>
    Update .gitignore with comprehensive patterns for R package with C++ development.

    Current .gitignore (14 lines) is minimal. Expand based on research recommendations:

    1. Keep existing patterns (they're good)
    2. Add comprehensive R package build artifacts:
       - *.tar.gz, *.Rcheck/, RLDM.Rcheck/
       - .Rproj.user, .Rhistory, .Ruserdata, .RData, .Rapp.history
    3. Add C++ build artifacts:
       - src/*.o, src/*.so, src/*.dll, src/*.dylib
    4. Add documentation/build directories:
       - docs/, pkgdown/
    5. Add IDE and OS files:
       - .DS_Store, Thumbs.db, *.swp, *~
    6. Add package-specific exclusions (new directories):
       - logs/, figure/, data-raw/, inst/doc/
    7. Add temporary files:
       - *.pdf, *.html, *.bak

    Structure should be organized with comments. Reference research section "Standard .gitignore for R Package with C++".

    Important: Ensure logs/ is excluded since it's a development directory.
  </action>
  <verify>
    Run: cat /media/bernd/nvme/r_projects/acad_RLDM/.gitignore
    Run: wc -l /media/bernd/nvme/r_projects/acad_RLDM/.gitignore
    Check: File has ≥30 lines, contains "logs/", "*.tar.gz", "src/*.o" patterns
  </verify>
  <done>
    .gitignore has comprehensive patterns covering R/C++ build artifacts and development directories.
  </done>
</task>

<task type="auto">
  <name>Task 4: Update .Rbuildignore with proper exclusions</name>
  <files>/media/bernd/nvme/r_projects/acad_RLDM/.Rbuildignore</files>
  <action>
    Update .Rbuildignore to exclude development directories from package build.

    Current .Rbuildignore (10 lines) excludes some directories. Update to:

    1. Keep existing exclusions (they're good)
    2. Add exclusions for new development directories:
       - ^logs$ (exclude entire logs directory from build)
       - ^figure$ (exclude figure directory)
       - ^data-raw$ (already exists)
    3. Ensure .planning/ is excluded (if not already)
    4. Consider excluding inst/doc/ if it contains built documentation

    .Rbuildignore uses regex patterns (^ for start, $ for end). Each pattern on separate line.

    Note: .Rbuildignore excludes from package tarball, .gitignore excludes from git. Different purposes.
  </action>
  <verify>
    Run: cat /media/bernd/nvme/r_projects/acad_RLDM/.Rbuildignore
    Check: Contains "^logs$", "^figure$", "^data-raw$" patterns
    Check: File has ≥10 lines
  </verify>
  <done>
    .Rbuildignore excludes development directories (logs/, figure/, data-raw/) from package build.
  </done>
</task>

</tasks>

<verification>
1. Verify all directories exist: logs/ with subdirs, inst/benchmarks/
2. Verify LICENSE.md exists with GPL-3 content
3. Verify .gitignore has comprehensive patterns (≥30 lines)
4. Verify .Rbuildignore excludes development directories
5. Run: git status to see what files would be ignored (should show logs/ as untracked)
</verification>

<success_criteria>
- [ ] Directories: logs/{claude,smc,debug,test_scripts}, inst/benchmarks/ exist
- [ ] LICENSE.md file exists with GPL-3 license and copyright
- [ ] .gitignore has ≥30 lines with comprehensive R/C++ patterns
- [ ] .Rbuildignore excludes logs/, figure/, data-raw/ from build
- [ ] git status shows logs/ as untracked (properly ignored)
</success_criteria>

<output>
After completion, create `.planning/phases/01-repository-foundation/01-01-SUMMARY.md`
</output>
